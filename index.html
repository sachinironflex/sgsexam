
<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SGS EXAM CRACKER ‚Äì App</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Custom CSS to handle background and font */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
    :root {
      --bg-dark: #080808;
      --card-dark: #121212;
      --border-dark: #222222;
    }
    html, body {
      height: 100%;
      font-family: 'Inter', sans-serif;
    }
    body {
      background: var(--bg-dark);
      color: #e5e7eb;
    }
    /* Specific styles for the Gate modal */
    .gate {
      animation: fadeIn .3s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .pro-card {
        /* Glassmorphism effect for the pro-level card */
        background-color: rgba(18, 18, 18, 0.4);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        animation: card-in .5s ease-out;
    }
    @keyframes card-in {
      from { transform: scale(0.9) translateY(20px); opacity: 0; }
      to { transform: scale(1) translateY(0); opacity: 1; }
    }
    .input-pro:focus {
        box-shadow: 0 0 0 2px rgba(13, 148, 136, 0.5); /* Teal glow */
    }
    .btn-pro {
        position: relative;
        overflow: hidden;
        z-index: 1;
    }
    .btn-pro::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        transition: 0.5s;
        z-index: -1;
    }
    .btn-pro:hover::before {
        left: 100%;
    }
    .gradient-text {
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
  </style>
</head>
<body class="bg-zinc-950 text-slate-100">

  <!-- HEADER -->
  <header class="sticky top-0 z-50 bg-black/50 backdrop-blur-lg border-b border-gray-800">
    <div class="container mx-auto px-4 py-4 flex items-center justify-center relative">
      <div class="text-xl sm:text-2xl font-extrabold tracking-wide text-white">SGS EXAM CRACKER</div>
      <div class="absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2 sm:gap-4" id="avatarWrap" style="display:none">
        <img id="userPhoto" alt="user" class="w-9 h-9 sm:w-10 sm:h-10 rounded-full object-cover border-2 border-slate-700 shadow-lg" style="display:none"/>
        <div class="w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center bg-slate-700 text-slate-300 font-bold text-lg border-2 border-slate-700 shadow-lg" id="userFallback" style="display:none">U</div>
        <button class="bg-slate-800 hover:bg-slate-700 text-white font-semibold py-1 px-3 sm:py-2 sm:px-4 rounded-full text-xs sm:text-sm transition-colors" id="logoutBtn" title="Logout">
          Logout
        </button>
      </div>
    </div>
  </header>

  <!-- GREET LINE -->
  <div class="container mx-auto px-4 mt-2 sm:mt-4">
    <div class="text-sm sm:text-base text-slate-400">
      Hello, <strong id="helloName" class="text-white">User</strong> üëã
    </div>
  </div>

  <!-- SHAYARI (STUDY MOTIVATION) -->
  <section class="container mx-auto px-4 py-6 my-4 sm:my-8 rounded-3xl bg-gradient-to-br from-indigo-900/20 to-zinc-950 border border-slate-800 shadow-2xl overflow-hidden relative">
    <div class="absolute inset-0 z-0 opacity-10">
      <div class="w-full h-full bg-cover bg-center" style="background-image: url('https://placehold.co/1200x400/0c0c0d/FFFFFF/png?text=Motivation+Pattern');"></div>
    </div>
    <div class="relative z-10 text-white">
      <h2 class="text-lg sm:text-xl font-bold mb-2 gradient-text bg-gradient-to-r from-teal-400 to-cyan-500">üî• Study ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§ó ‚Äî ‡§Ü‡§ú ‡§®‡§π‡•Ä‡§Ç ‡§§‡•ã ‡§ï‡§≠‡•Ä ‡§®‡§π‡•Ä‡§Ç</h2>
      <p class="mb-1 text-sm sm:text-base leading-relaxed">‡§ï‡§ø‡§§‡§æ‡§¨‡•ã‡§Ç ‡§ï‡•Ä ‡§∞‡§æ‡§ñ ‡§®‡§π‡•Ä‡§Ç ‡§â‡§°‡§º‡§æ‡§®‡•Ä, <br> ‡§™‡§®‡•ç‡§®‡•á ‡§™‡§≤‡§ü ‡§ï‡§∞ ‡§ï‡§ø‡§∏‡•ç‡§Æ‡§§ ‡§™‡§≤‡§ü‡§®‡•Ä ‡§π‡•à‡•§</p>
      <p class="mb-1 text-sm sm:text-base leading-relaxed">‡§ò‡§°‡§º‡•Ä ‡§ï‡•Ä ‡§ü‡§ø‡§ï-‡§ü‡§ø‡§ï ‡§Ø‡§æ‡§¶ ‡§¶‡§ø‡§≤‡§æ‡§è‚Äî<br> ‡§Ü‡§ú ‡§ï‡§æ ‡§Ü‡§≤‡§∏, ‡§ï‡§≤ ‡§ï‡•Ä ‡§®‡§ø‡§Ø‡•Å‡§ï‡•ç‡§§‡§ø ‡§ñ‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ‡•§</p>
      <p class="mb-4 text-sm sm:text-base leading-relaxed">‡§ú‡•ã ‡§∞‡§æ‡§§‡•ã‡§Ç ‡§ï‡•ã ‡§ú‡§≤‡§§‡•á ‡§π‡•à‡§Ç ‡§µ‡§π‡•Ä ‡§∏‡•Å‡§¨‡§π ‡§Ö‡•ô‡§¨‡§æ‡§∞‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§õ‡§™‡§§‡•á ‡§π‡•à‡§Ç‡•§</p>
      <small class="block text-xs sm:text-sm text-slate-400">‚Äî Focus ‚Ä¢ Discipline ‚Ä¢ Repeat</small>
    </div>
  </section>

  <!-- GRID: 3 per row, square tiles -->
  <main class="container mx-auto px-4 pb-16 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4" id="btnGrid" style="display:none">
    <a class="tile bg-slate-900 hover:bg-slate-800 transition-all duration-200 transform hover:-translate-y-1 hover:shadow-xl p-4 rounded-2xl flex flex-col items-center justify-center gap-2 aspect-square border border-slate-800 text-center" href="https://drive.google.com/drive/folders/1kuiMOHnkRewT9nN4RBaJyrGIjJJBDLtk" target="_blank" rel="noopener" aria-label="SSC GD">
      <div class="text-4xl sm:text-5xl">üõ°Ô∏è</div>
      <div class="font-bold text-sm sm:text-base text-white">SSC GD</div>
      <div class="text-xs sm:text-sm text-slate-400">Important PDFs</div>
    </a>
    <a class="tile bg-slate-900 hover:bg-slate-800 transition-all duration-200 transform hover:-translate-y-1 hover:shadow-xl p-4 rounded-2xl flex flex-col items-center justify-center gap-2 aspect-square border border-slate-800 text-center" href="https://drive.google.com/drive/folders/1CqVZz4A2JqrqMYambXq7QfkYPborLiIP" target="_blank" rel="noopener" aria-label="SSC MTS">
      <div class="text-4xl sm:text-5xl">üß∞</div>
      <div class="font-bold text-sm sm:text-base text-white">SSC MTS</div>
      <div class="text-xs sm:text-sm text-slate-400">All Sections</div>
    </a>
    <a class="tile bg-slate-900 hover:bg-slate-800 transition-all duration-200 transform hover:-translate-y-1 hover:shadow-xl p-4 rounded-2xl flex flex-col items-center justify-center gap-2 aspect-square border border-slate-800 text-center" href="https://drive.google.com/drive/folders/1mXVIzRNVTBIoLjDCAT-7Jome1AZ7n6SY" target="_blank" rel="noopener" aria-label="LUCENT">
      <div class="text-4xl sm:text-5xl">üìò</div>
      <div class="font-bold text-sm sm:text-base text-white">LUCENT</div>
      <div class="text-xs sm:text-sm text-slate-400">General Knowledge</div>
    </a>
    <a class="tile bg-slate-900 hover:bg-slate-800 transition-all duration-200 transform hover:-translate-y-1 hover:shadow-xl p-4 rounded-2xl flex flex-col items-center justify-center gap-2 aspect-square border border-slate-800 text-center" href="https://drive.google.com/drive/folders/1aVAB7eZK3wEEyCDc_l4EkDfQ3BgNq4JI" target="_blank" rel="noopener" aria-label="ALL PDF">
      <div class="text-4xl sm:text-5xl">üìö</div>
      <div class="font-bold text-sm sm:text-base text-white">ALL PDF</div>
      <div class="text-xs sm:text-sm text-slate-400">One Place Library</div>
    </a>
    <a class="tile bg-slate-900 hover:bg-slate-800 transition-all duration-200 transform hover:-translate-y-1 hover:shadow-xl p-4 rounded-2xl flex flex-col items-center justify-center gap-2 aspect-square border border-slate-800 text-center" href="https://drive.google.com/drive/folders/1eAjiWefAZdNdE-bK1nwvUlP92_7WIGat" target="_blank" rel="noopener" aria-label="Notice Board">
      <div class="text-4xl sm:text-5xl">üì¢</div>
      <div class="font-bold text-sm sm:text-base text-white">Notice Board</div>
      <div class="text-xs sm:text-sm text-slate-400">Updates & Info</div>
    </a>
    <a class="tile bg-slate-900 hover:bg-slate-800 transition-all duration-200 transform hover:-translate-y-1 hover:shadow-xl p-4 rounded-2xl flex flex-col items-center justify-center gap-2 aspect-square border border-slate-800 text-center" href="https://drive.google.com/drive/folders/1eF9tbYetogTi6QekaVLVKcw-1VbSSnV4" target="_blank" rel="noopener" aria-label="New Vacancy">
      <div class="text-4xl sm:text-5xl">üÜï</div>
      <div class="font-bold text-sm sm:text-base text-white">New Vacancy</div>
      <div class="text-xs sm:text-sm text-slate-400">Latest Jobs</div>
    </a>
  </main>

  <!-- AUTH GATE (login/signup modal) -->
  <div class="gate fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm transition-opacity duration-300" id="authGate" aria-modal="true" role="dialog">
    <div class="w-[min(92vw,440px)] rounded-3xl p-6 sm:p-8 shadow-2xl pro-card">
      <div class="mb-4">
        <h3 class="text-2xl font-bold text-white text-center">Login / Signup</h3>
        <p class="text-sm text-slate-400 text-center mt-1">to unlock the full experience</p>
      </div>

      <!-- Tabs -->
      <div class="flex gap-2 mb-4 p-1 rounded-xl bg-slate-900/50">
        <button class="tab flex-1 text-center py-2 rounded-xl transition-colors duration-200 bg-slate-800 text-white font-semibold shadow-inner" id="tabSignIn">Sign In</button>
        <button class="tab flex-1 text-center py-2 rounded-xl transition-colors duration-200 bg-transparent text-slate-400 font-semibold" id="tabSignUp">Sign Up</button>
      </div>

      <!-- Sign In Form -->
      <div id="signinForm">
        <div class="space-y-4">
          <div class="field">
            <label class="block text-xs font-medium text-slate-400">Email</label>
            <input type="email" id="inEmail" placeholder="you@example.com" autocomplete="username" class="input-pro w-full bg-slate-900/50 border border-slate-800 text-white rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors"/>
          </div>
          <div class="field">
            <label class="block text-xs font-medium text-slate-400">Password</label>
            <input type="password" id="inPass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password" class="input-pro w-full bg-slate-900/50 border border-slate-800 text-white rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors"/>
          </div>
        </div>
        <button class="btn-pro w-full mt-6 bg-teal-600 hover:bg-teal-500 text-white font-bold py-3 rounded-xl shadow-lg transition-colors" id="btnSignInEmail">Sign In</button>
        <div class="relative flex py-4 items-center">
          <div class="flex-grow border-t border-slate-800"></div>
          <span class="flex-shrink mx-4 text-slate-500 text-sm">or</span>
          <div class="flex-grow border-t border-slate-800"></div>
        </div>
        <button class="btn-pro w-full flex items-center justify-center gap-2 bg-slate-800 hover:bg-slate-700 text-white font-semibold py-3 rounded-xl shadow-lg transition-colors" id="btnGoogle">
          <svg class="w-5 h-5" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M44.5 20.25H24v7.5h11.838c-.792 3.992-3.262 7.378-7.398 9.544L24 40v-4.5c4.782-2.166 8.243-6.528 9.282-11.75H44.5z" fill="#4285F4"/><path d="M24 44.5c5.962 0 10.957-2.128 14.867-5.748l-5.717-4.43c-2.476 1.62-5.592 2.68-8.15 2.68-5.772 0-10.7-3.9-12.483-9.148L2.736 34.25c3.21 6.368 10.024 10.25 19.264 10.25h2z" fill="#34A853"/><path d="M11.517 25.102c-.378-1.504-.576-3.08-.576-4.702s.198-3.198.576-4.702l-8.525-6.602C2.458 14.776 2 19.344 2 21.9h2z" fill="#FBBC04"/><path d="M24 11.5c3.15 0 5.862 1.144 7.994 3.25L38.4 8.7C34.78 4.882 29.782 2.5 24 2.5c-9.24 0-16.054 3.882-19.264 10.25l8.525 6.602c1.783-5.248 6.71-9.148 12.483-9.148h2z" fill="#EA4335"/></svg>
          Continue with Google
        </button>
        <div class="text-red-500 text-xs text-center mt-3 h-4" id="inErr"></div>
      </div>

      <!-- Sign Up Form -->
      <div id="signupForm" style="display:none">
        <div class="space-y-4">
          <div class="field">
            <label class="block text-xs font-medium text-slate-400">Full Name</label>
            <input type="text" id="upName" placeholder="Your Name" autocomplete="name" class="input-pro w-full bg-slate-900/50 border border-slate-800 text-white rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors"/>
          </div>
          <div class="field">
            <label class="block text-xs font-medium text-slate-400">Email</label>
            <input type="email" id="upEmail" placeholder="you@example.com" autocomplete="email" class="input-pro w-full bg-slate-900/50 border border-slate-800 text-white rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors"/>
          </div>
          <div class="field">
            <label class="block text-xs font-medium text-slate-400">Password</label>
            <input type="password" id="upPass" placeholder="Create a strong password" autocomplete="new-password" class="input-pro w-full bg-slate-900/50 border border-slate-800 text-white rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 transition-colors"/>
          </div>
        </div>
        <button class="btn-pro w-full mt-6 bg-teal-600 hover:bg-teal-500 text-white font-bold py-3 rounded-xl shadow-lg transition-colors" id="btnSignUpEmail">Create Account</button>
        <div class="relative flex py-4 items-center">
          <div class="flex-grow border-t border-slate-800"></div>
          <span class="flex-shrink mx-4 text-slate-500 text-sm">or</span>
          <div class="flex-grow border-t border-slate-800"></div>
        </div>
        <button class="btn-pro w-full flex items-center justify-center gap-2 bg-slate-800 hover:bg-slate-700 text-white font-semibold py-3 rounded-xl shadow-lg transition-colors" id="btnGoogle2">
          <svg class="w-5 h-5" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M44.5 20.25H24v7.5h11.838c-.792 3.992-3.262 7.378-7.398 9.544L24 40v-4.5c4.782-2.166 8.243-6.528 9.282-11.75H44.5z" fill="#4285F4"/><path d="M24 44.5c5.962 0 10.957-2.128 14.867-5.748l-5.717-4.43c-2.476 1.62-5.592 2.68-8.15 2.68-5.772 0-10.7-3.9-12.483-9.148L2.736 34.25c3.21 6.368 10.024 10.25 19.264 10.25h2z" fill="#34A853"/><path d="M11.517 25.102c-.378-1.504-.576-3.08-.576-4.702s.198-3.198.576-4.702l-8.525-6.602C2.458 14.776 2 19.344 2 21.9h2z" fill="#FBBC04"/><path d="M24 11.5c3.15 0 5.862 1.144 7.994 3.25L38.4 8.7C34.78 4.882 29.782 2.5 24 2.5c-9.24 0-16.054 3.882-19.264 10.25l8.525 6.602c1.783-5.248 6.71-9.148 12.483-9.148h2z" fill="#EA4335"/></svg>
          Continue with Google
        </button>
        <div class="text-red-500 text-xs text-center mt-3 h-4" id="upErr"></div>
      </div>

      <div class="text-green-500 text-xs text-center mt-3 h-4" id="authMsg"></div>
    </div>
  </div>

  <!-- Toast for messages -->
  <div class="fixed bottom-6 left-1/2 -translate-x-1/2 bg-slate-900 border border-slate-700 text-slate-200 px-4 py-2 rounded-xl shadow-lg hidden transition-opacity duration-300" id="toast">Logged out successfully.</div>

  <!-- Firebase SDKs -->
  <script type="module">
    // Firebase imports
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import {
      getAuth, onAuthStateChanged, signInWithCustomToken, signInAnonymously,
      GoogleAuthProvider, signInWithPopup, signInWithEmailAndPassword,
      createUserWithEmailAndPassword, updateProfile, signOut
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    // Global variables from Canvas environment
    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
    const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
    const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

    // UI Element References
    const gate = document.getElementById('authGate');
    const avatarWrap = document.getElementById('avatarWrap');
    const userPhoto = document.getElementById('userPhoto');
    const userFallback = document.getElementById('userFallback');
    const helloName = document.getElementById('helloName');
    const logoutBtn = document.getElementById('logoutBtn');
    const toastEl = document.getElementById('toast');
    const tabSignIn = document.getElementById('tabSignIn');
    const tabSignUp = document.getElementById('tabSignUp');
    const signinForm = document.getElementById('signinForm');
    const signupForm = document.getElementById('signupForm');
    const inEmail = document.getElementById('inEmail');
    const inPass = document.getElementById('inPass');
    const btnSignInEmail = document.getElementById('btnSignInEmail');
    const inErr = document.getElementById('inErr');
    const upName = document.getElementById('upName');
    const upEmail = document.getElementById('upEmail');
    const upPass = document.getElementById('upPass');
    const btnSignUpEmail = document.getElementById('btnSignUpEmail');
    const upErr = document.getElementById('upErr');
    const btnGoogle = document.getElementById('btnGoogle');
    const btnGoogle2 = document.getElementById('btnGoogle2');
    const authMsg = document.getElementById('authMsg');
    // Main content grid reference
    const btnGrid = document.getElementById('btnGrid');

    let app, auth;

    // Helper functions
    const showGate = () => { gate.classList.add('show', 'flex'); gate.classList.remove('hidden'); };
    const hideGate = () => { gate.classList.add('hidden'); gate.classList.remove('show', 'flex'); };
    const showToast = (msg = "Done") => {
      toastEl.textContent = msg;
      toastEl.classList.remove('hidden');
      setTimeout(() => { toastEl.classList.add('hidden'); }, 1800);
    };
    const initialFromName = (name = "User") => (name.trim()[0] || "U").toUpperCase();
    const nameFromEmail = (email = "") => email.split("@")[0];

    // Initialize Firebase and set up auth listener
    const initFirebase = async () => {
      try {
        app = initializeApp(firebaseConfig);
        auth = getAuth(app);
        
        // Initial authentication check using the provided token
        if (initialAuthToken) {
          await signInWithCustomToken(auth, initialAuthToken);
        } else {
          // Fallback to anonymous sign-in if no token is available
          await signInAnonymously(auth);
        }

        // Listen for auth state changes and update UI
        onAuthStateChanged(auth, (user) => {
          if (user) {
            hideGate();
            // Show main app content
            btnGrid.style.display = 'grid';
            avatarWrap.style.display = 'flex';
            const displayName = user.displayName || nameFromEmail(user.email || "");
            helloName.textContent = displayName;
            if (user.photoURL) {
              userPhoto.src = user.photoURL;
              userPhoto.style.display = 'block';
              userFallback.style.display = 'none';
            } else {
              userFallback.textContent = initialFromName(displayName || "U");
              userFallback.style.display = 'flex';
              userPhoto.style.display = 'none';
            }
          } else {
            showGate();
            // Hide main app content
            btnGrid.style.display = 'none';
            avatarWrap.style.display = 'none';
            helloName.textContent = 'User';
          }
        });
      } catch (e) {
        console.error("Firebase Initialization Error:", e);
      }
    };
    
    // Switch Tabs
    tabSignIn.addEventListener('click', () => {
      tabSignIn.classList.add('bg-slate-800', 'text-white', 'shadow-inner');
      tabSignIn.classList.remove('bg-transparent', 'text-slate-400');
      tabSignUp.classList.remove('bg-slate-800', 'text-white', 'shadow-inner');
      tabSignUp.classList.add('bg-transparent', 'text-slate-400');
      signinForm.style.display = 'block';
      signupForm.style.display = 'none';
      inErr.textContent = ""; upErr.textContent = ""; authMsg.textContent = "";
    });
    tabSignUp.addEventListener('click', () => {
      tabSignUp.classList.add('bg-slate-800', 'text-white', 'shadow-inner');
      tabSignUp.classList.remove('bg-transparent', 'text-slate-400');
      tabSignIn.classList.remove('bg-slate-800', 'text-white', 'shadow-inner');
      tabSignIn.classList.add('bg-transparent', 'text-slate-400');
      signupForm.style.display = 'block';
      signinForm.style.display = 'none';
      inErr.textContent = ""; upErr.textContent = ""; authMsg.textContent = "";
    });

    // Email Sign In
    btnSignInEmail.addEventListener('click', async () => {
      inErr.textContent = ""; authMsg.textContent = "";
      try {
        await signInWithEmailAndPassword(auth, inEmail.value.trim(), inPass.value.trim());
        authMsg.textContent = "Welcome back!";
      } catch (e) {
        inErr.textContent = e.message.replace("Firebase: Error (auth/", "").replace(")", "").replace(/-/g, " ").replace(").", "").trim();
      }
    });

    // Email Sign Up
    btnSignUpEmail.addEventListener('click', async () => {
      upErr.textContent = ""; authMsg.textContent = "";
      const name = upName.value.trim();
      if (!name) { upErr.textContent = "Please enter your full name."; return; }
      try {
        const cred = await createUserWithEmailAndPassword(auth, upEmail.value.trim(), upPass.value.trim());
        await updateProfile(cred.user, { displayName: name });
        authMsg.textContent = "Account created. You‚Äôre in!";
      } catch (e) {
        upErr.textContent = e.message.replace("Firebase: Error (auth/", "").replace(")", "").replace(/-/g, " ").replace(").", "").trim();
      }
    });

    // Google Sign In
    const doGoogle = async () => {
      try {
        const provider = new GoogleAuthProvider();
        await signInWithPopup(auth, provider);
        authMsg.textContent = "Signed in with Google.";
      } catch (e) {
        // Silently handle popup closed by user
        console.error("Google Sign-in Error:", e);
      }
    };
    btnGoogle.addEventListener('click', doGoogle);
    btnGoogle2.addEventListener('click', doGoogle);

    // Logout
    logoutBtn.addEventListener('click', async () => {
      await signOut(auth);
      showToast("Logged out successfully.");
    });
    
    // Wait for the window to load before starting
    window.onload = function() {
      initFirebase();
    }
  </script>

</body>
</html>
