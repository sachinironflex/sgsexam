<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GD ExamCracker ‚Äì Daily Mock Test</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            transition: background-color 0.5s ease;
        }

        .neon-black {
            background-color: #000000;
        }

        .neon-glow {
            text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #007bff, 0 0 20px #007bff, 0 0 25px #007bff, 0 0 30px #007bff, 0 0 35px #007bff;
            animation: neon-glow 1.5s ease-in-out infinite alternate;
        }

        @keyframes neon-glow {
            from {
                text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #007bff, 0 0 20px #007bff;
            }
            to {
                text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #007bff, 0 0 40px #007bff, 0 0 50px #007bff;
            }
        }

        .drawer {
            transition: transform 0.3s ease-in-out;
            transform: translateX(-100%);
        }

        .drawer.open {
            transform: translateX(0);
        }

        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.7);
        }

        .subject-button-grid {
            grid-template-columns: repeat(3, minmax(0, 1fr));
        }

        @media (max-width: 640px) {
            .subject-button-grid {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }
    </style>
</head>
<body>

<!-- Main App Container -->
<div id="app" class="relative min-h-screen bg-gray-100 flex flex-col items-center"></div>

<!-- Custom Modal Container -->
<div id="modal-container" class="fixed inset-0 z-50 hidden flex items-center justify-center modal-overlay"></div>

<!-- Firebase CDN Imports -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

<script>
    // Firebase ‡§î‡§∞ ‡§ê‡§™ ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ó‡•ç‡§≤‡•ã‡§¨‡§≤ ‡§µ‡•á‡§∞‡§ø‡§è‡§¨‡§≤ ‡§∏‡•á‡§ü‡§Ö‡§™
    let firebaseConfig = {
      apiKey: "AIzaSyB9thAZ6J72ovXU2CXBeeFIiKyj3McgwfI",
      authDomain: "ssc-gd-c174a.firebaseapp.com",
      databaseURL: "https://ssc-gd-c174a-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "ssc-gd-c174a",
      storageBucket: "ssc-gd-c174a.firebasestorage.app",
      messagingSenderId: "306957230185",
      appId: "1:306957230185:web:a32e27c4406eb7eb15c2f8"
    };

    const appId = firebaseConfig.appId;

    // ‡§è‡§°‡§Æ‡§ø‡§® ‡§ï‡•ç‡§∞‡•á‡§°‡•á‡§Ç‡§∂‡§ø‡§Ø‡§≤‡•ç‡§∏
    const ADMIN_ID = "Sachin";
    const ADMIN_EMAIL = "sachinkumarjii753@gmail.com";
    const ADMIN_PASSWORD = "Sachin@802165";

    // ‡§è‡§™‡•ç‡§≤‡•Ä‡§ï‡•á‡§∂‡§® ‡§∏‡•ç‡§ü‡•á‡§ü ‡§Æ‡•à‡§®‡•á‡§ú‡§Æ‡•á‡§Ç‡§ü
    const appState = {
        currentPage: 'splash',
        user: null,
        userProfile: null,
        isAdmin: false,
        activeSubject: null,
        activeTestNumber: null,
        currentQuestionIndex: 0,
        userAnswers: {},
        questions: [],
        userProgress: {},
        drawerOpen: false,
        modal: {
            isOpen: false,
            title: '',
            message: '',
            buttons: []
        }
    };

    // Firebase Initialization
    let app, auth, db, rtdb;
    try {
        app = firebase.initializeApp(firebaseConfig);
        auth = app.auth();
        db = app.firestore(); // Firestore user progress ‡§ï‡•á ‡§≤‡§ø‡§è
        rtdb = app.database(); // Realtime Database ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡•ã‡§Ç ‡§î‡§∞ ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è
    } catch (error) {
        console.error("Firebase Initialization Error: ", error);
        showModal('‡§§‡•ç‡§∞‡•Å‡§ü‡§ø', `Firebase ‡§ï‡•ã ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§`, [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-red-500 text-white' }]);
    }
    
    // Auth State Listener
    auth.onAuthStateChanged(async (user) => {
        appState.user = user;
        if (user) {
            appState.userProfile = {
                displayName: user.displayName || user.email || 'User',
                photoURL: user.photoURL || `https://placehold.co/100x100/A0AEC0/ffffff?text=${(user.email || 'U').charAt(0).toUpperCase()}`
            };
            if (user.email === ADMIN_EMAIL) {
                appState.isAdmin = true;
                console.log("Admin UID:", user.uid);
            } else {
                appState.isAdmin = false;
            }
            if (appState.currentPage === 'login' || appState.currentPage === 'admin') {
                if (appState.isAdmin) {
                    navigateTo('admin');
                } else {
                    navigateTo('main');
                }
            }
        } else {
            appState.user = null;
            appState.userProfile = null;
            appState.isAdmin = false;
            if (appState.currentPage !== 'splash') {
                navigateTo('login');
            }
        }
        await fetchUserProgress();
        renderApp();
    });

    // ‡§ï‡§∏‡•ç‡§ü‡§Æ ‡§Æ‡•ã‡§°‡§≤ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®
    function showModal(title, message, buttons, contentHtml = '') {
        appState.modal = { isOpen: true, title, message, buttons, contentHtml };
        renderModal();
    }

    function hideModal() {
        appState.modal = { isOpen: false, title: '', message: '', buttons: [] };
        renderModal();
    }

    // ‡§Æ‡•ã‡§°‡§≤ ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç
    function renderModal() {
        const modalContainer = document.getElementById('modal-container');
        if (appState.modal.isOpen) {
            modalContainer.classList.remove('hidden');
            let content = appState.modal.contentHtml || `<p class="text-gray-700 text-center mb-6">${appState.modal.message}</p>`;
            modalContainer.innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow-xl max-w-sm w-full mx-4">
                    <h3 class="text-xl font-bold mb-4 text-center">${appState.modal.title}</h3>
                    ${content}
                    <div class="flex justify-center space-x-4 mt-6">
                        ${appState.modal.buttons.map(btn => `
                            <button id="modal-btn-${btn.id}" class="px-6 py-2 rounded-lg font-semibold shadow-md transition-transform transform hover:scale-105 ${btn.class}">${btn.text}</button>
                        `).join('')}
                    </div>
                </div>
            `;
            appState.modal.buttons.forEach(btn => {
                const modalBtn = document.getElementById(`modal-btn-${btn.id}`);
                if (modalBtn) {
                    modalBtn.onclick = () => {
                        hideModal();
                        if (btn.action) btn.action();
                    };
                }
            });
        } else {
            modalContainer.classList.add('hidden');
            modalContainer.innerHTML = '';
        }
    }

    // --- ‡§´‡§æ‡§Ø‡§∞‡§∏‡•ç‡§ü‡•ã‡§∞ ‡§∏‡•á ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§ï‡§æ ‡§§‡§∞‡•ç‡§ï (Firestore) ---
    async function fetchUserProgress() {
        if (!appState.user) return;
        try {
            const userId = auth.currentUser?.uid;
            if (!userId) return;
            // FIX: Check if we are online before trying to get document from Firestore
            if (navigator.onLine) {
                const userProgressRef = db.collection(`artifacts/${appId}/users/${userId}/userProgress`).doc('main');
                const doc = await userProgressRef.get();
                if (doc.exists) {
                    appState.userProgress = doc.data();
                } else {
                    appState.userProgress = {};
                }
            } else {
                console.error("‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§≤‡§æ‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: Client is offline.");
                appState.userProgress = {}; // Fallback to empty progress
            }
        } catch (error) {
            console.error("‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§≤‡§æ‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø:", error);
        }
    }

    async function updateUserProgress(subject, testNumber) {
        if (!appState.user) return;
        const userId = auth.currentUser?.uid;
        if (!userId) return;
        if (!navigator.onLine) {
            console.error("‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§ï‡•ã ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: Client is offline.");
            return;
        }
        const userProgressRef = db.collection(`artifacts/${appId}/users/${userId}/userProgress`).doc('main');
        const progressData = { ...appState.userProgress, [subject]: testNumber };
        try {
            await userProgressRef.set(progressData, { merge: true });
            appState.userProgress = progressData;
        } catch (error) {
            console.error("‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§ï‡•ã ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø:", error);
        }
    }
    
    // ‡§´‡§æ‡§Ø‡§∞‡§∏‡•ç‡§ü‡•ã‡§∞ ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§µ‡§ø‡§ú ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§ï‡•ã ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç
    async function saveQuizProgress() {
        if (!appState.user) return;
        const userId = auth.currentUser?.uid;
        if (!userId || !navigator.onLine) return;

        const quizProgressRef = db.collection(`artifacts/${appId}/users/${userId}/quizProgress`).doc(appState.activeSubject);
        const data = {
            subject: appState.activeSubject,
            testNumber: appState.activeTestNumber,
            currentQuestionIndex: appState.currentQuestionIndex,
            userAnswers: appState.userAnswers // Firestore ‡§Æ‡•á‡§Ç ‡§ë‡§¨‡•ç‡§ú‡•á‡§ï‡•ç‡§ü ‡§∏‡•ç‡§ü‡•ã‡§∞ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç
        };

        try {
            await quizProgressRef.set(data);
        } catch (error) {
            console.error("‡§ï‡•ç‡§µ‡§ø‡§ú ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§ï‡•ã ‡§∏‡•á‡§µ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø:", error);
        }
    }
    
    // ‡§´‡§æ‡§Ø‡§∞‡§∏‡•ç‡§ü‡•ã‡§∞ ‡§∏‡•á ‡§ï‡•ç‡§µ‡§ø‡§ú ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§ï‡•ã ‡§≤‡§æ‡§è‡§Å
    async function fetchQuizProgress() {
        if (!appState.user) return;
        const userId = auth.currentUser?.uid;
        if (!userId || !navigator.onLine) return;

        const quizProgressRef = db.collection(`artifacts/${appId}/users/${userId}/quizProgress`).doc(appState.activeSubject);
        try {
            const doc = await quizProgressRef.get();
            if (doc.exists && doc.data().testNumber === appState.activeTestNumber) {
                return doc.data();
            }
        } catch (error) {
            console.error("‡§ï‡•ç‡§µ‡§ø‡§ú ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§≤‡§æ‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø:", error);
        }
        return null;
    }

    // --- ‡§®‡•á‡§µ‡§ø‡§ó‡•á‡§∂‡§® ‡§î‡§∞ ‡§∞‡•á‡§Ç‡§°‡§∞‡§ø‡§Ç‡§ó ---
    function navigateTo(page, params = {}) {
        appState.currentPage = page;
        Object.keys(params).forEach(key => appState[key] = params[key]);
        renderApp();
    }
    
    // ‡§¨‡•á‡§∏ UI ‡§∏‡•ç‡§ü‡•ç‡§∞‡§ï‡•ç‡§ö‡§∞ ‡§ï‡•ã ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç
    function renderBaseUI() {
        const appContainer = document.getElementById('app');
        appContainer.innerHTML = `
            <!-- ‡§ü‡•â‡§™ ‡§π‡•á‡§°‡§∞ -->
            <header id="app-header" class="w-full bg-black text-white p-4 flex items-center justify-between shadow-lg fixed top-0 z-30"></header>
            
            <!-- ‡§¶‡§∞‡§æ‡§ú ‡§Æ‡•á‡§®‡•Ç -->
            <div id="drawer" class="drawer bg-gray-800 text-white w-64 p-4 space-y-4 fixed inset-y-0 left-0 z-40 shadow-xl overflow-y-auto"></div>

            <!-- ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ -->
            <main id="main-content" class="flex-grow w-full p-4 mt-20 md:p-6 transition-all duration-300 ease-in-out"></main>
        `;

        // Drawer ko band karne ka logic
        document.getElementById('app').addEventListener('click', (event) => {
            const drawer = document.getElementById('drawer');
            const toggleButton = document.getElementById('toggle-drawer');
            // Agar drawer khula hai aur click drawer ya toggle button ke bahar hua hai
            if (drawer && drawer.classList.contains('open') && !drawer.contains(event.target) && !toggleButton.contains(event.target)) {
                drawer.classList.remove('open');
            }
        });
    }

    function renderApp() {
        const appContainer = document.getElementById('app');
        appContainer.innerHTML = '';
        document.body.className = '';
        
        switch (appState.currentPage) {
            case 'splash':
                renderSplashScreen();
                break;
            case 'login':
                document.body.classList.add('bg-blue-900', 'bg-opacity-50', 'bg-gray-900');
                renderLoginPage();
                break;
            case 'main':
                document.body.classList.add('bg-gray-100');
                renderBaseUI(); // ‡§¨‡•á‡§∏ UI ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç
                renderHeader();
                renderDrawer();
                renderMainPageContent(); // ‡§ï‡•á‡§µ‡§≤ ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç
                break;
            case 'admin':
                document.body.classList.add('bg-gray-100');
                renderBaseUI(); // ‡§¨‡•á‡§∏ UI ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç
                renderHeader();
                renderDrawer(); // ‡§è‡§°‡§Æ‡§ø‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§≠‡•Ä drawer render karein
                renderAdminPanelContent(); // ‡§ï‡•á‡§µ‡§≤ ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç
                break;
            case 'subject':
                document.body.classList.add('bg-gray-100');
                renderBaseUI(); // ‡§¨‡•á‡§∏ UI ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç
                renderHeader();
                renderDrawer();
                renderSubjectPageContent(); // ‡§ï‡•á‡§µ‡§≤ ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç
                break;
            case 'quiz':
                document.body.classList.add('bg-gray-100');
                renderBaseUI();
                renderQuizPageContent();
                break;
            case 'results':
                document.body.classList.add('bg-gray-100');
                renderBaseUI();
                renderResultsPageContent();
                break;
            default:
                renderSplashScreen();
                break;
        }
    }

    // ‡§®‡§Ø‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®: ‡§π‡•á‡§°‡§∞ ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç
    function renderHeader() {
        const header = document.getElementById('app-header');
        if (!header) return;
        header.innerHTML = `
            <button id="toggle-drawer" class="text-xl px-2 py-1 rounded-full hover:bg-gray-800 transition-colors duration-200"><i class="fas fa-bars"></i></button>
            <h1 class="text-2xl font-extrabold neon-glow">GD ExamCracker</h1>
            <div class="user-profile-container flex items-center space-x-2">
                <span class="text-sm hidden sm:inline">${appState.userProfile.displayName}</span>
                <img src="${appState.userProfile.photoURL}" alt="User Photo" class="w-10 h-10 rounded-full border-2 border-white shadow-md">
            </div>
        `;
        document.getElementById('toggle-drawer').addEventListener('click', (event) => {
            const drawer = document.getElementById('drawer');
            if (drawer) {
                drawer.classList.toggle('open');
                event.stopPropagation(); // Drawer toggle button par click karne par drawer band na ho
            }
        });
    }

    // ‡§®‡§Ø‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®: ‡§¶‡§∞‡§æ‡§ú ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç
    function renderDrawer() {
        const drawer = document.getElementById('drawer');
        if (!drawer) return;
        let drawerButtons;
        if (appState.isAdmin) {
             drawerButtons = `
                <div class="text-center py-4">
                    <img src="${appState.userProfile.photoURL}" alt="User Photo" class="w-20 h-20 rounded-full mx-auto mb-2 border-2 border-white shadow-md">
                    <p class="text-lg font-bold">${appState.userProfile.displayName}</p>
                </div>
                <button class="w-full text-left py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors duration-200" onclick="navigateTo('main')">Home</button>
                <button class="w-full text-left py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors duration-200" onclick="showAdminSection('add-question')">‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</button>
                <button class="w-full text-left py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition-colors duration-200 mt-auto shadow-md" onclick="handleLogout()">‡§≤‡•â‡§ó‡§Ü‡§â‡§ü</button>
             `;
        } else {
             drawerButtons = `
                <div class="text-center py-4">
                    <img src="${appState.userProfile.photoURL}" alt="User Photo" class="w-20 h-20 rounded-full mx-auto mb-2 border-2 border-white shadow-md">
                    <p class="text-lg font-bold">${appState.userProfile.displayName}</p>
                </div>
                <button class="w-full text-left py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors duration-200" onclick="navigateTo('main')">Home</button>
                <button class="w-full text-left py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors duration-200" onclick="showContentPage('About', 'About Page Content...')">About</button>
                <button class="w-full text-left py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors duration-200" onclick="showContentPage('Privacy Policy', 'Privacy Policy Content...')">Privacy Policy</button>
                <button class="w-full text-left py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors duration-200" onclick="showContentPage('Terms & Conditions', 'Terms & Conditions Content...')">Terms & Conditions</button>
                <button class="w-full text-left py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors duration-200" onclick="showContentPage('Disclaimer', 'Disclaimer Content...')">Disclaimer</button>
                <button class="w-full text-left py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors duration-200" onclick="shareApp()">Share App</button>
                <button id="logout-btn" class="w-full text-left py-2 px-4 rounded-lg bg-red-600 hover:bg-red-700 transition-colors duration-200 mt-auto shadow-md" onclick="handleLogout()">‡§≤‡•â‡§ó‡§Ü‡§â‡§ü</button>
             `;
        }
        drawer.innerHTML = drawerButtons;
        const logoutBtn = document.getElementById('logout-btn');
        if (logoutBtn) logoutBtn.addEventListener('click', handleLogout);
    }

    // --- ‡§∏‡•ç‡§™‡•ç‡§≤‡•à‡§∂ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ---
    function renderSplashScreen() {
        const appContainer = document.getElementById('app');
        document.body.classList.add('bg-blue-800', 'flex', 'items-center', 'justify-center');
        appContainer.innerHTML = `
            <div class="text-center animate-pulse">
                <div class="w-24 h-24 rounded-full bg-white flex items-center justify-center mx-auto mb-4 shadow-xl">
                    <i class="fa-solid fa-graduation-cap text-5xl text-blue-800"></i>
                </div>
                <h1 class="text-white text-3xl md:text-5xl font-bold tracking-wide">GD ExamCracker</h1>
                <p class="text-white text-lg md:text-xl font-medium mt-2">Daily Mock Test</p>
            </div>
        `;
        setTimeout(() => {
            if (!appState.user) {
                navigateTo('login');
            } else {
                navigateTo('main');
            }
        }, 2000);
    }
    
    // --- ‡§≤‡•â‡§ó‡§ø‡§® ‡§™‡•á‡§ú ---
    function renderLoginPage() {
        const appContainer = document.getElementById('app');
        appContainer.innerHTML = `
            <div class="bg-white p-8 md:p-12 rounded-2xl shadow-2xl w-full max-w-md mx-4 mt-16 transition-all duration-500 ease-in-out transform scale-95 opacity-0 animate-fade-in-up">
                <h2 class="text-3xl font-extrabold text-center text-gray-900 mb-6">Login</h2>
                <div class="mb-4">
                    <input id="email-input" type="email" placeholder="Email" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200">
                </div>
                <div class="mb-6">
                    <input id="password-input" type="password" placeholder="Password" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200">
                </div>
                <button id="login-email-btn" class="w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors duration-200 mb-4 shadow-lg">Login</button>
                <div class="flex justify-between text-sm mb-6">
                    <a href="#" id="forgot-password-link" class="text-blue-600 hover:underline">Forgot Password?</a>
                    <a href="#" id="signup-link" class="text-blue-600 hover:underline">Signup</a>
                </div>

                <div class="flex items-center my-6">
                    <hr class="flex-grow border-t border-gray-300">
                    <span class="mx-4 text-gray-500">OR</span>
                    <hr class="flex-grow border-t border-gray-300">
                </div>

                <button id="login-google-btn" class="w-full bg-red-600 text-white py-3 rounded-lg font-bold hover:bg-red-700 transition-colors duration-200 mb-4 shadow-lg flex items-center justify-center">
                    <i class="fab fa-google mr-2 text-xl"></i> Login with Google
                </button>
                <button id="admin-login-btn" class="w-full bg-gray-800 text-white py-3 rounded-lg font-bold hover:bg-gray-900 transition-colors duration-200 shadow-lg">Admin Login</button>
            </div>
        `;
        
        // ‡§á‡§µ‡•á‡§Ç‡§ü ‡§≤‡§ø‡§∏‡§®‡§∞‡•ç‡§∏ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç
        document.getElementById('login-email-btn').addEventListener('click', handleEmailLogin);
        document.getElementById('login-google-btn').addEventListener('click', handleGoogleLogin);
        document.getElementById('admin-login-btn').addEventListener('click', showAdminLoginModal);
        document.getElementById('signup-link').addEventListener('click', handleSignup);
        document.getElementById('forgot-password-link').addEventListener('click', handleForgotPassword);
        
        // ‡§´‡§º‡•á‡§°-‡§á‡§® ‡§è‡§®‡§ø‡§Æ‡•á‡§∂‡§® ‡§ü‡•ç‡§∞‡§ø‡§ó‡§∞ ‡§ï‡§∞‡•á‡§Ç
        setTimeout(() => {
            document.querySelector('.animate-fade-in-up').classList.remove('scale-95', 'opacity-0');
        }, 100);
    }
    
    // ‡§≤‡•â‡§ó‡§ø‡§® ‡§π‡•à‡§Ç‡§°‡§≤‡§∞‡•ç‡§∏
    async function handleEmailLogin() {
        const email = document.getElementById('email-input').value;
        const password = document.getElementById('password-input').value;
        if (!email || !password) {
            showModal('Error', '‡§ï‡•É‡§™‡§Ø‡§æ ‡§à‡§Æ‡•á‡§≤ ‡§î‡§∞ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§', [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-blue-500 text-white' }]);
            return;
        }
        try {
            await auth.signInWithEmailAndPassword(email, password);
            navigateTo('main');
        } catch (error) {
            showModal('‡§≤‡•â‡§ó‡§ø‡§® ‡§µ‡§ø‡§´‡§≤', '‡§≤‡•â‡§ó‡§ø‡§® ‡§µ‡§ø‡§´‡§≤ ‡§∞‡§π‡§æ: ' + error.message, [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-red-500 text-white' }]);
        }
    }

    async function handleGoogleLogin() {
        try {
            const provider = new firebase.auth.GoogleAuthProvider();
            await auth.signInWithPopup(provider);
            navigateTo('main');
        } catch (error) {
            showModal('‡§≤‡•â‡§ó‡§ø‡§® ‡§µ‡§ø‡§´‡§≤', 'Google ‡§≤‡•â‡§ó‡§ø‡§® ‡§µ‡§ø‡§´‡§≤ ‡§∞‡§π‡§æ: ' + error.message, [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-red-500 text-white' }]);
        }
    }
    
    // ‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡•â‡§ó‡§ø‡§® ‡§Æ‡•ã‡§°‡§≤ ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç
    function showAdminLoginModal() {
        const modalContent = `
            <div class="space-y-4">
                <div>
                    <input id="admin-id-input" type="text" placeholder="Admin ID" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200">
                </div>
                <div>
                    <input id="admin-password-input" type="password" placeholder="Password" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200">
                </div>
                <p id="admin-error-message" class="text-red-500 text-sm text-center hidden"></p>
            </div>
        `;
        showModal('Admin Login', '', [{
            text: 'Login',
            id: 'admin-login-confirm-btn',
            class: 'bg-green-600 text-white',
            action: checkAdminCredentials
        }, {
            text: 'Cancel',
            id: 'admin-login-cancel-btn',
            class: 'bg-gray-500 text-white',
            action: hideModal
        }], modalContent);
    }
    
    // ‡§è‡§°‡§Æ‡§ø‡§® ‡§ï‡•ç‡§∞‡•á‡§°‡•á‡§Ç‡§∂‡§ø‡§Ø‡§≤‡•ç‡§∏ ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç
    async function checkAdminCredentials() {
        const adminIdInput = document.getElementById('admin-id-input');
        const adminPasswordInput = document.getElementById('admin-password-input');
        const errorMessageDiv = document.getElementById('admin-error-message');

        if (!adminIdInput || !adminPasswordInput || !errorMessageDiv) {
            return;
        }
        
        const adminId = adminIdInput.value;
        const adminPassword = adminPasswordInput.value;

        if (adminId === ADMIN_ID && adminPassword === ADMIN_PASSWORD) {
            try {
                await auth.signInWithEmailAndPassword(ADMIN_EMAIL, ADMIN_PASSWORD);
                appState.isAdmin = true;
                hideModal();
                console.log("Admin UID:", auth.currentUser.uid);
                navigateTo('admin');
            } catch (error) {
                errorMessageDiv.textContent = '‡§≤‡•â‡§ó‡§ø‡§® ‡§µ‡§ø‡§´‡§≤ ‡§∞‡§π‡§æ: ' + error.message;
                errorMessageDiv.classList.remove('hidden');
            }
        } else {
            errorMessageDiv.textContent = '‡§Ö‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§è‡§°‡§Æ‡§ø‡§® ‡§Ü‡§à‡§°‡•Ä ‡§Ø‡§æ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°‡•§';
            errorMessageDiv.classList.remove('hidden');
        }
    }

    function handleSignup() {
        const email = document.getElementById('email-input').value;
        const password = document.getElementById('password-input').value;
        if (!email || !password) {
            showModal('Error', '‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§æ‡§á‡§®‡§Ö‡§™ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§µ‡•à‡§ß ‡§à‡§Æ‡•á‡§≤ ‡§î‡§∞ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§', [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-blue-500 text-white' }]);
            return;
        }
        auth.createUserWithEmailAndPassword(email, password)
            .then(() => {
                showModal('‡§∏‡§´‡§≤‡§§‡§æ', '‡§ñ‡§æ‡§§‡§æ ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ! ‡§ï‡•É‡§™‡§Ø‡§æ ‡§≤‡•â‡§ó ‡§á‡§® ‡§ï‡§∞‡•á‡§Ç‡•§', [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-green-500 text-white' }]);
            })
            .catch(error => {
                showModal('‡§∏‡§æ‡§á‡§®‡§Ö‡§™ ‡§µ‡§ø‡§´‡§≤', '‡§∏‡§æ‡§á‡§®‡§Ö‡§™ ‡§µ‡§ø‡§´‡§≤ ‡§∞‡§π‡§æ: ' + error.message, [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-red-500 text-white' }]);
            });
    }

    function handleForgotPassword() {
        const email = document.getElementById('email-input').value;
        if (!email) {
            showModal('Error', '‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§à‡§Æ‡•á‡§≤ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§', [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-blue-500 text-white' }]);
            return;
        }
        auth.sendPasswordResetEmail(email)
            .then(() => {
                showModal('‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§∞‡•Ä‡§∏‡•á‡§ü', '‡§Ü‡§™‡§ï‡•á ‡§à‡§Æ‡•á‡§≤ ‡§™‡§∞ ‡§è‡§ï ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§≤‡§ø‡§Ç‡§ï ‡§≠‡•á‡§ú‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§', [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-green-500 text-white' }]);
            })
            .catch(error => {
                showModal('‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§µ‡§ø‡§´‡§≤', '‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§µ‡§ø‡§´‡§≤ ‡§∞‡§π‡§æ: ' + error.message, [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-red-500 text-white' }]);
            });
    }

    // --- ‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡•à‡§®‡§≤ ---
    function renderAdminPanelContent() {
        const contentDiv = document.getElementById('main-content');
        if (!contentDiv) return;
        contentDiv.innerHTML = `
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">‡§è‡§°‡§Æ‡§ø‡§® ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°</h2>
                <div></div>
            </div>
            <div id="admin-content-section" class="bg-white p-6 rounded-lg shadow-lg">
                <h3 class="text-xl text-gray-600">‡§ï‡•É‡§™‡§Ø‡§æ ‡§¶‡§∞‡§æ‡§ú ‡§∏‡•á ‡§è‡§ï ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§</h3>
            </div>
        `;
        showAdminSection('add-question');
    }
    
    // ‡§è‡§°‡§Æ‡§ø‡§® ‡§∏‡•á‡§ï‡•ç‡§∂‡§® ‡§∞‡•á‡§Ç‡§°‡§∞‡§∞
    function showAdminSection(section) {
        const contentDiv = document.getElementById('admin-content-section');
        if (!contentDiv) return;
        const subjects = ["Hindi", "Reasoning", "Maths", "Current Affairs", "GK", "Science", "Geography", "Policy", "History", "Previous Year", "Bihar GK"];
        const testNumbers = Array.from({ length: 12 }, (_, i) => i + 1);

        let html = '';
        if (section === 'add-question') {
            html = `
                <h3 class="text-2xl font-bold mb-4">‡§®‡§Ø‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</h3>
                <div class="mb-4">
                    <label for="subject-select" class="block text-gray-700 font-semibold mb-2">‡§µ‡§ø‡§∑‡§Ø ‡§ö‡•Å‡§®‡•á‡§Ç:</label>
                    <select id="subject-select" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        ${subjects.map(s => `<option value="${s}">${s}</option>`).join('')}
                    </select>
                </div>
                <div class="mb-4">
                    <label for="test-select" class="block text-gray-700 font-semibold mb-2">‡§ü‡•á‡§∏‡•ç‡§ü ‡§®‡§Ç‡§¨‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç:</label>
                    <select id="test-select" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        ${testNumbers.map(n => `<option value="test${n}">‡§ü‡•á‡§∏‡•ç‡§ü ${n}</option>`).join('')}
                    </select>
                </div>
                <div class="mb-4">
                    <label for="question-text" class="block text-gray-700 font-semibold mb-2">‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü:</label>
                    <textarea id="question-text" rows="3" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                </div>
                <div class="space-y-4 mb-4">
                    <div>
                        <label for="option-A" class="block text-gray-700">‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ A:</label>
                        <input id="option-A" type="text" class="w-full px-4 py-2 rounded-lg border border-gray-300">
                    </div>
                    <div>
                        <label for="option-B" class="block text-gray-700">‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ B:</label>
                        <input id="option-B" type="text" class="w-full px-4 py-2 rounded-lg border border-gray-300">
                    </div>
                    <div>
                        <label for="option-C" class="block text-gray-700">‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ C:</label>
                        <input id="option-C" type="text" class="w-full px-4 py-2 rounded-lg border border-gray-300">
                    </div>
                    <div>
                        <label for="option-D" class="block text-gray-700">‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ D:</label>
                        <input id="option-D" type="text" class="w-full px-4 py-2 rounded-lg border border-gray-300">
                    </div>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 font-semibold mb-2">‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞:</label>
                    <div class="flex space-x-4">
                        <label class="flex items-center"><input type="radio" name="correct-answer" value="A" class="form-radio text-blue-500"> <span class="ml-2">A</span></label>
                        <label class="flex items-center"><input type="radio" name="correct-answer" value="B" class="form-radio text-blue-500"> <span class="ml-2">B</span></label>
                        <label class="flex items-center"><input type="radio" name="correct-answer" value="C" class="form-radio text-blue-500"> <span class="ml-2">C</span></label>
                        <label class="flex items-center"><input type="radio" name="correct-answer" value="D" class="form-radio text-blue-500"> <span class="ml-2">D</span></label>
                    </div>
                </div>
                <button id="save-question-btn" class="bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition-colors duration-200 shadow-md">‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç</button>
            `;
        } else if (section === 'about-content' || section === 'privacy-content' || section === 'terms-content' || section === 'disclaimer-content') {
            html = `
                <h3 class="text-2xl font-bold mb-4">Edit ${section.replace('-content', '')}</h3>
                <textarea id="content-text" rows="10" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4"></textarea>
                <button id="save-content-btn" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors duration-200 shadow-md">‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç</button>
            `;
        }
        contentDiv.innerHTML = html;

        if (section === 'add-question') {
            document.getElementById('save-question-btn').addEventListener('click', handleSaveQuestion);
        } else if (section.endsWith('-content')) {
            document.getElementById('save-content-btn').addEventListener('click', () => handleSaveContent(section));
            fetchContent(section);
        }
        const drawer = document.getElementById('drawer');
        if (drawer) drawer.classList.remove('open');
    }
    
    // ‡§®‡§Ø‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®: ‡§è‡§°‡§Æ‡§ø‡§® ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§ï‡•ã ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç
    async function handleSaveContent(section) {
        const content = document.getElementById('content-text').value;
        const contentRef = rtdb.ref(`appContent/${section.replace('-content', '')}`);
        try {
            await contentRef.set(content);
            showModal('‡§∏‡§´‡§≤‡§§‡§æ', `‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§∏‡•á‡§µ ‡§ï‡•Ä ‡§ó‡§à!`, [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-green-500 text-white' }]);
        } catch (error) {
            showModal('‡§§‡•ç‡§∞‡•Å‡§ü‡§ø', `‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§∏‡•á‡§µ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§´‡§≤: ${error.message}`, [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-red-500 text-white' }]);
        }
    }

    // ‡§®‡§Ø‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®: ‡§è‡§°‡§Æ‡§ø‡§® ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§ï‡•ã ‡§≤‡§æ‡§è‡§Å
    async function fetchContent(section) {
        const contentRef = rtdb.ref(`appContent/${section.replace('-content', '')}`);
        try {
            const snapshot = await contentRef.once('value');
            const content = snapshot.val();
            const contentTextarea = document.getElementById('content-text');
            if (content && contentTextarea) {
                contentTextarea.value = content;
            }
        } catch (error) {
            console.error("‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§≤‡§æ‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø:", error);
        }
    }

    // ‡§®‡§Ø‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®: ‡§Ø‡•Ç‡§ú‡§º‡§∞ ‡§ï‡•ã ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç
    async function showContentPage(title, defaultContent) {
        const contentDiv = document.getElementById('main-content');
        if (!contentDiv) return;

        const contentRef = rtdb.ref(`appContent/${title.replace(/ /g, '').toLowerCase()}`);
        let content = defaultContent;
        try {
            const snapshot = await contentRef.once('value');
            const fetchedContent = snapshot.val();
            if (fetchedContent) {
                content = fetchedContent;
            }
        } catch (error) {
            console.error("‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§≤‡§æ‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø:", error);
        }

        contentDiv.innerHTML = `
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">${title}</h2>
                <div></div>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <p class="text-gray-700 whitespace-pre-wrap">${content}</p>
            </div>
        `;
        document.getElementById('drawer').classList.remove('open');
    }

    // --- ‡§è‡§°‡§Æ‡§ø‡§® ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ---
    async function handleSaveQuestion() {
        const subject = document.getElementById('subject-select').value;
        const testNumber = document.getElementById('test-select').value;
        const questionText = document.getElementById('question-text').value;
        const optionA = document.getElementById('option-A').value;
        const optionB = document.getElementById('option-B').value;
        const optionC = document.getElementById('option-C').value;
        const optionD = document.getElementById('option-D').value;
        const correctAnswer = document.querySelector('input[name="correct-answer"]:checked')?.value;

        if (!subject || !testNumber || !questionText || !optionA || !optionB || !optionC || !optionD || !correctAnswer) {
            showModal('Error', '‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç‡•§', [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-red-500 text-white' }]);
            return;
        }

        const questionData = {
            question: questionText,
            optionA: optionA,
            optionB: optionB,
            optionC: optionC,
            optionD: optionD,
            answer: correctAnswer
        };

        const dbRef = rtdb.ref(`quiz/${subject}/${testNumber}`);
        try {
            await dbRef.push(questionData);
            showModal('‡§∏‡§´‡§≤‡§§‡§æ', '‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§∏‡•á‡§µ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ!', [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-green-500 text-white' }]);
            // ‡§´‡•â‡§∞‡•ç‡§Æ ‡§∏‡§æ‡§´‡§º ‡§ï‡§∞‡•á‡§Ç
            document.getElementById('question-text').value = '';
            document.getElementById('option-A').value = '';
            document.getElementById('option-B').value = '';
            document.getElementById('option-C').value = '';
            document.getElementById('option-D').value = '';
            const checkedRadio = document.querySelector('input[name="correct-answer"]:checked');
            if(checkedRadio) checkedRadio.checked = false;
        } catch (error) {
            showModal('‡§§‡•ç‡§∞‡•Å‡§ü‡§ø', `‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ï‡•ã ‡§∏‡•á‡§µ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§´‡§≤: ${error.message}`, [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-red-500 text-white' }]);
        }
    }
    
    // --- ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§™‡•É‡§∑‡•ç‡§† (‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ) ---
    function renderMainPageContent() {
        const contentDiv = document.getElementById('main-content');
        if (!contentDiv) return;
        const subjects = [
            { name: "Hindi", emoji: "üáÆüá≥" }, { name: "Reasoning", emoji: "üß†" },
            { name: "Maths", emoji: "üßÆ" }, { name: "Current Affairs", emoji: "üì∞" },
            { name: "GK", emoji: "üåç" }, { name: "Science", emoji: "üî¨" },
            { name: "Geography", emoji: "üó∫Ô∏è" }, { name: "Policy", emoji: "üèõÔ∏è" },
            { name: "History", emoji: "üìú" }, { name: "Previous Year", emoji: "üìñ" },
            { name: "Bihar GK", emoji: "üè∞" }
        ];

        contentDiv.innerHTML = `
            <div class="grid subject-button-grid gap-4 max-w-4xl mx-auto">
                ${subjects.map(s => `
                    <button class="bg-white p-6 rounded-2xl shadow-lg flex flex-col items-center justify-center space-y-2 transform transition-transform hover:scale-105" onclick="navigateToSubject('${s.name}')">
                        <span class="text-4xl">${s.emoji}</span>
                        <span class="font-semibold text-gray-800">${s.name}</span>
                    </button>
                `).join('')}
            </div>
        `;
    }
    
    // ‡§≤‡•â‡§ó‡§Ü‡§â‡§ü ‡§∏‡§Ç‡§≠‡§æ‡§≤‡•á‡§Ç
    function handleLogout() {
        auth.signOut().then(() => {
            navigateTo('login');
        }).catch(error => {
            showModal('‡§≤‡•â‡§ó‡§Ü‡§â‡§ü ‡§µ‡§ø‡§´‡§≤', '‡§≤‡•â‡§ó‡§Ü‡§â‡§ü ‡§ï‡•á ‡§¶‡•å‡§∞‡§æ‡§® ‡§è‡§ï ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§π‡•Å‡§à‡•§', [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-red-500 text-white' }]);
        });
    }

    // --- ‡§µ‡§ø‡§∑‡§Ø ‡§™‡•É‡§∑‡•ç‡§† ---
    function navigateToSubject(subjectName) {
        appState.activeSubject = subjectName;
        navigateTo('subject');
    }

    function renderSubjectPageContent() {
        const contentDiv = document.getElementById('main-content');
        if (!contentDiv) return;
        const completedTests = appState.userProgress[appState.activeSubject] || 0;
        const testButtons = Array.from({ length: 12 }, (_, i) => {
            const testNumber = i + 1;
            const isUnlocked = testNumber <= completedTests + 1;
            const isCompleted = testNumber <= completedTests;
            let statusText = '';
            let buttonClass = '';

            if (isCompleted) {
                statusText = '‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü';
                buttonClass = 'bg-green-500 hover:bg-green-600';
            } else if (isUnlocked) {
                statusText = '‡§Ö‡§®‡§≤‡•â‡§ï';
                buttonClass = 'bg-blue-500 hover:bg-blue-600';
            } else {
                statusText = '‡§≤‡•â‡§ï';
                buttonClass = 'bg-gray-400 cursor-not-allowed';
            }
            
            return `
                <button class="w-full py-4 rounded-lg text-white font-bold shadow-md transition-transform transform hover:scale-105 ${buttonClass}" 
                        ${isUnlocked ? `onclick="startTest(${testNumber})"` : 'disabled'}>
                    ‡§ü‡•á‡§∏‡•ç‡§ü ${testNumber}
                    <span class="block text-xs font-normal mt-1">${statusText}</span>
                </button>
            `;
        }).join('');

        contentDiv.innerHTML = `
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">${appState.activeSubject} ‡§ü‡•á‡§∏‡•ç‡§ü</h2>
                <div></div>
            </div>
            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 max-w-4xl mx-auto">
                ${testButtons}
            </div>
        `;
    }

    // --- ‡§ï‡•ç‡§µ‡§ø‡§ú ‡§§‡§∞‡•ç‡§ï ---
    async function startTest(testNumber) {
        appState.activeTestNumber = testNumber;
        appState.currentQuestionIndex = 0;
        appState.userAnswers = {};

        // ‡§Æ‡•å‡§ú‡•Ç‡§¶‡§æ ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡•á‡§Ç
        const storedProgress = await fetchQuizProgress();

        if (storedProgress && Object.keys(storedProgress.userAnswers).length > 0) {
            showModal(
                '‡§ü‡•á‡§∏‡•ç‡§ü ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç',
                '‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§ü‡•á‡§∏‡•ç‡§ü ‡§µ‡§π‡•Ä‡§Ç ‡§∏‡•á ‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡§®‡§æ ‡§ö‡§æ‡§π‡•á‡§Ç‡§ó‡•á ‡§ú‡§π‡§æ‡§Å ‡§Ü‡§™‡§®‡•á ‡§õ‡•ã‡§°‡§º‡§æ ‡§•‡§æ ‡§Ø‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡•á‡§Ç‡§ó‡•á?',
                [
                    { text: '‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç', id: 'continue', class: 'bg-blue-500 text-white', action: () => {
                        appState.userAnswers = storedProgress.userAnswers;
                        appState.currentQuestionIndex = storedProgress.currentQuestionIndex;
                        fetchQuestions();
                    }},
                    { text: '‡§™‡•Å‡§®‡§É ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç', id: 'restart', class: 'bg-red-500 text-white', action: () => {
                        fetchQuestions();
                    }}
                ]
            );
        } else {
            fetchQuestions();
        }
    }

    async function fetchQuestions() {
        const contentDiv = document.getElementById('main-content');
        if (!contentDiv) return;
        const loadingHtml = `<div class="flex items-center justify-center min-h-screen"><i class="fas fa-spinner fa-spin text-4xl text-blue-500"></i></div>`;
        contentDiv.innerHTML = loadingHtml;

        const subject = appState.activeSubject;
        const testNumber = appState.activeTestNumber;
        
        try {
            const dbRef = rtdb.ref(`quiz/${subject}/test${testNumber}`);
            const snapshot = await dbRef.once('value');
            const questionsObject = snapshot.val();
            if (questionsObject) {
                appState.questions = Object.values(questionsObject).slice(0, 20); // ‡§™‡§π‡§≤‡•á 20 ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç
                navigateTo('quiz');
            } else {
                showModal('‡§§‡•ç‡§∞‡•Å‡§ü‡§ø', '‡§á‡§∏ ‡§ü‡•á‡§∏‡•ç‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ã‡§à ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¶‡•Ç‡§∏‡§∞‡§æ ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§', [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-red-500 text-white', action: () => navigateTo('subject') }]);
            }
        } catch (error) {
            console.error("‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§≤‡§æ‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø:", error);
            showModal('‡§§‡•ç‡§∞‡•Å‡§ü‡§ø', '‡§ï‡•ç‡§µ‡§ø‡§ú ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§´‡§≤‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç ‡§î‡§∞ ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§', [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-red-500 text-white', action: () => navigateTo('subject') }]);
        }
    }

    function renderQuizPageContent() {
        const contentDiv = document.getElementById('main-content');
        if (!contentDiv) return;
        const question = appState.questions[appState.currentQuestionIndex];
        if (!question) {
            return navigateTo('results');
        }

        const options = ['A', 'B', 'C', 'D'].map(key => ({
            key,
            text: question[`option${key}`]
        }));
        
        const currentAnswer = appState.userAnswers[appState.currentQuestionIndex];

        contentDiv.innerHTML = `
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">‡§ï‡•ç‡§µ‡§ø‡§ú</h2>
                <div class="text-lg">‡§™‡•ç‡§∞. ${appState.currentQuestionIndex + 1}/${appState.questions.length}</div>
            </div>
            <div class="container mx-auto p-4 max-w-2xl w-full">
                <div class="bg-white p-6 rounded-lg shadow-lg mb-4">
                    <p class="text-lg font-semibold text-gray-800">${question.question}</p>
                </div>
                <div class="space-y-4">
                    ${options.map(opt => `
                        <button id="option-${opt.key}" class="w-full text-left p-4 rounded-lg shadow-md transition-all duration-200 ease-in-out transform hover:scale-105
                            ${currentAnswer === opt.key ? 'bg-blue-600 text-white' : 'bg-gray-200 hover:bg-gray-300'}
                        " onclick="handleAnswer('${opt.key}')">
                            <span class="font-bold mr-2">${opt.key}.</span> ${opt.text}
                        </button>
                    `).join('')}
                </div>
            </div>
        `;
    }

    function handleBackDuringQuiz() {
        showModal(
            '‡§ï‡•ç‡§µ‡§ø‡§ú ‡§∏‡•á ‡§¨‡§æ‡§π‡§∞ ‡§®‡§ø‡§ï‡§≤‡•á‡§Ç?',
            '‡§Ü‡§™‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§∏‡•á‡§µ ‡§ï‡•Ä ‡§ú‡§æ‡§è‡§ó‡•Ä‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§ü‡•á‡§∏‡•ç‡§ü ‡§∏‡•á ‡§¨‡§æ‡§π‡§∞ ‡§®‡§ø‡§ï‡§≤‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?',
            [
                { text: '‡§π‡§æ‡§Å', id: 'yes', class: 'bg-red-500 text-white', action: () => {
                    saveQuizProgress();
                    navigateTo('subject');
                }},
                { text: '‡§®‡§π‡•Ä‡§Ç', id: 'no', class: 'bg-blue-500 text-white', action: () => {} }
            ]
        );
    }

    async function handleAnswer(answer) {
        appState.userAnswers[appState.currentQuestionIndex] = answer;
        await saveQuizProgress(); // ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§â‡§§‡•ç‡§§‡§∞ ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç
        setTimeout(() => {
            appState.currentQuestionIndex++;
            renderQuizPageContent();
        }, 500); // ‡§¶‡•É‡§∂‡•ç‡§Ø ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§•‡•ã‡§°‡§º‡•Ä ‡§¶‡•á‡§∞‡•Ä
    }

    // --- ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§™‡•É‡§∑‡•ç‡§† ---
    function renderResultsPageContent() {
        const contentDiv = document.getElementById('main-content');
        if (!contentDiv) return;
        let correctCount = 0;
        let incorrectCount = 0;
        appState.questions.forEach((q, index) => {
            const userAnswer = appState.userAnswers[index];
            if (userAnswer && userAnswer === q.answer) {
                correctCount++;
            } else if (userAnswer) {
                incorrectCount++;
            }
        });

        contentDiv.innerHTML = `
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">‡§ü‡•á‡§∏‡•ç‡§ü ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ</h2>
                <div></div>
            </div>
            <div class="container mx-auto p-4 max-w-2xl w-full">
               <div class="bg-white p-6 rounded-lg shadow-lg text-center mb-6">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">‡§ï‡•ç‡§µ‡§ø‡§ú ‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü!</h2>
                    <p class="text-xl font-semibold text-gray-700">‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞:</p>
                    <p class="text-5xl font-extrabold text-blue-600 my-4">${correctCount}/${appState.questions.length}</p>
                    <div class="flex justify-around text-center">
                        <div>
                            <p class="text-green-600 font-bold text-xl">${correctCount}</p>
                            <p class="text-gray-600">‡§∏‡§π‡•Ä</p>
                        </div>
                        <div>
                            <p class="text-red-600 font-bold text-xl">${incorrectCount}</p>
                            <p class="text-gray-600">‡§ó‡§≤‡§§</p>
                        </div>
                    </div>
                </div>

                <div class="flex flex-col space-y-4">
                    <button class="w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors duration-200 shadow-lg" onclick="viewAllQuestions()">‡§∏‡§≠‡•Ä ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§¶‡•á‡§ñ‡•á‡§Ç</button>
                    <button class="w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors duration-200 shadow-lg" onclick="reAttemptTest()">‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç</button>
                </div>
            </div>
        `;
        
        updateUserProgress(appState.activeSubject, appState.activeTestNumber);
    }
    
    // ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§™‡•É‡§∑‡•ç‡§† ‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§è‡§Å
    function viewAllQuestions() {
        const contentDiv = document.getElementById('main-content');
        if (!contentDiv) return;
        const questionsHtml = appState.questions.map((q, index) => {
            const userAnswer = appState.userAnswers[index];
            const isCorrect = userAnswer === q.answer;
            const userStatus = isCorrect ? '‡§∏‡§π‡•Ä' : '‡§ó‡§≤‡§§';
            const statusClass = isCorrect ? 'text-green-600' : 'text-red-600';

            return `
                <div class="bg-white p-4 rounded-lg shadow-md mb-4">
                    <p class="font-semibold text-gray-800">‡§™‡•ç‡§∞. ${index + 1}: ${q.question}</p>
                    <ul class="list-disc list-inside mt-2 text-gray-700">
                        <li>A. ${q.optionA}</li>
                        <li>B. ${q.optionB}</li>
                        <li>C. ${q.optionC}</li>
                        <li>D. ${q.optionD}</li>
                    </ul>
                    <p class="mt-2 text-sm">
                        <span class="font-bold">‡§Ü‡§™‡§ï‡§æ ‡§â‡§§‡•ç‡§§‡§∞:</span> <span class="${statusClass}">${userAnswer || '‡§ï‡•ã‡§à ‡§â‡§§‡•ç‡§§‡§∞ ‡§®‡§π‡•Ä‡§Ç'} (${userStatus})</span>
                    </p>
                    <p class="mt-1 text-sm font-bold text-blue-600">‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞: ${q.answer}</p>
                </div>
            `;
        }).join('');

        contentDiv.innerHTML = `
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">‡§∏‡§≠‡•Ä ‡§™‡•ç‡§∞‡§∂‡•ç‡§®</h2>
                <div></div>
            </div>
            <div class="container mx-auto p-4">
                ${questionsHtml}
            </div>
        `;
    }

    function reAttemptTest() {
        navigateTo('quiz', { currentQuestionIndex: 0, userAnswers: {} });
    }

    // --- ‡§¨‡•à‡§ï ‡§¨‡§ü‡§® ‡§î‡§∞ ‡§∂‡•á‡§Ø‡§∞ ‡§§‡§∞‡•ç‡§ï ---
    window.onpopstate = () => {
        // ‡§á‡§§‡§ø‡§π‡§æ‡§∏-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§®‡•á‡§µ‡§ø‡§ó‡•á‡§∂‡§® ‡§ï‡•ã ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ‡§®‡•Å‡§∏‡§æ‡§∞ ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡•á‡§Ç
    };

    function shareApp() {
        // Share API not available in all contexts, provide a fallback.
        if (navigator.share) {
            navigator.share({
                title: 'GD ExamCracker',
                text: 'GD ‡§è‡§ó‡•ç‡§ú‡§æ‡§Æ ‡§ï‡•Ä ‡§§‡•à‡§Ø‡§æ‡§∞‡•Ä ‡§ï‡§∞‡•á‡§Ç GD ExamCracker ‡§ï‡•á ‡§∏‡§æ‡§•!',
                url: window.location.href,
            }).then(() => {
                console.log('‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶!');
            }).catch(console.error);
        } else {
            showModal('‡§ê‡§™ ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç', '‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§á‡§∏ ‡§≤‡§ø‡§Ç‡§ï ‡§ï‡•ã ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç: ' + window.location.href, [{ text: '‡§†‡•Ä‡§ï ‡§π‡•à', id: 'ok', class: 'bg-blue-500 text-white' }]);
        }
    }

    // ‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠‡§ø‡§ï ‡§∞‡•á‡§Ç‡§°‡§∞
    window.onload = () => {
        renderApp();
    };

</script>
</body>
</html>
