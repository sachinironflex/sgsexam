<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SGS EXAM CRACKER ‚Äì App</title>
  <style>
    :root{
      --bg:#0b0b0b; --card:#121212; --muted:#9aa3ae; --text:#ffffff;
      --accent:#2dd4bf; --danger:#ef4444; --ok:#22c55e;
      --shadow:0 8px 24px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;
      background:linear-gradient(180deg,#000,#0a0a0a 40%,#111);
      color:var(--text);
    }
    /* Header */
    .header{position:sticky; top:0; z-index:50; background:#000; border-bottom:1px solid #1f1f1f;}
    .header-inner{max-width:1100px; margin:0 auto; padding:14px 16px; display:flex; align-items:center; justify-content:center; position:relative;}
    .title{font-weight:800; letter-spacing:.5px; color:#fff; text-align:center; font-size:22px;}
    .avatar{position:absolute; right:16px; top:50%; transform:translateY(-50%); display:flex; align-items:center; gap:10px}
    .avatar img{width:38px; height:38px; border-radius:50%; object-fit:cover; border:2px solid #1f2937; box-shadow:var(--shadow)}
    .avatar .fallback{width:38px; height:38px; border-radius:50%; display:grid; place-items:center; background:#222; border:2px solid #1f2937; font-weight:700; box-shadow:var(--shadow)}
    .avatar .logout{margin-left:8px; background:#1f2937; border:1px solid #2b2b2b; color:#e5e7eb; padding:6px 10px; border-radius:12px; cursor:pointer}
    .avatar .logout:hover{background:#2b3440}

    /* Greet line */
    .greet-wrap{max-width:1100px; margin:4px auto 0; padding:6px 16px 0}
    .greet{font-size:14px; color:#cbd5e1}
    .greet strong{color:#fff}

    /* Shayari card */
    .shayari{
      max-width:1100px; margin:14px auto; padding:18px; border-radius:18px;
      background:
        radial-gradient(1200px 400px at -10% -50%, #dc2626 0%, rgba(220,38,38,.2) 15%, transparent 40%),
        radial-gradient(1200px 400px at 110% 150%, #f59e0b 0%, rgba(245,158,11,.15) 18%, transparent 40%),
        linear-gradient(180deg, #121212, #0f0f0f);
      border:1px solid #1f1f1f; box-shadow:var(--shadow);
    }
    .shayari h2{margin:0 0 8px; font-size:18px; color:#fff; letter-spacing:.4px}
    .shayari p{margin:6px 0; line-height:1.6; font-weight:600; font-size:16px}
    .shayari small{color:#cbd5e1}

    /* Grid */
    .grid{max-width:1100px; margin:12px auto 60px; padding:0 16px; display:grid; grid-template-columns:repeat(3,1fr); gap:14px}
    @media (max-width:640px){ .grid{grid-template-columns:repeat(2,1fr)} }
    .tile{
      display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px;
      padding:18px 12px; background:var(--card); border:1px solid #1f1f1f; border-radius:18px;
      text-decoration:none; color:#fff; box-shadow:var(--shadow);
      transition:transform .15s ease, background .2s ease, border-color .2s ease;
      aspect-ratio:1/1; /* square */
    }
    .tile:hover{transform:translateY(-2px); border-color:#334155; background:#141414}
    .tile .emoji{font-size:34px; line-height:1}
    .tile .name{font-weight:700; text-align:center; font-size:14px; color:#e5e7eb}
    .tile .hint{font-size:12px; color:var(--muted)}

    /* Auth gate (first time login) */
    .gate{position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.72); backdrop-filter: blur(6px); z-index:60;}
    .gate.show{display:grid}
    .card{width:min(92vw, 440px); background:#0f1115; border:1px solid #1f1f1f; border-radius:18px; padding:18px; box-shadow:var(--shadow);}
    .card h3{margin:0 0 10px; font-size:20px}
    .tabs{display:flex; gap:8px; margin:10px 0 16px}
    .tab{flex:1; text-align:center; padding:10px 12px; border-radius:12px; border:1px solid #1f1f1f; background:#16181d; color:#d1d5db; cursor:pointer; font-weight:700}
    .tab.active{border-color:#334155; background:#0b0c10; color:#fff}
    .field{display:flex; flex-direction:column; gap:6px; margin:10px 0}
    .field label{font-size:12px; color:#aab2be}
    .field input{background:#0b0c10; border:1px solid #1f1f1f; color:#fff; border-radius:12px; padding:10px 12px; outline:none}
    .btn{width:100%; padding:12px 14px; border-radius:12px; border:1px solid #2c2c2c; background:#1f2937; color:#e5e7eb; font-weight:800; cursor:pointer}
    .btn:hover{background:#2b3440}
    .btn-google{display:flex; align-items:center; justify-content:center; gap:10px; font-weight:800; width:100%; border-radius:12px; padding:12px 14px; background:#111827; border:1px solid #334155; color:#e5e7eb; cursor:pointer; margin-top:8px}
    .btn-google:hover{background:#0f172a}
    .error{color:var(--danger); font-size:12px; min-height:18px}
    .success{color:var(--ok); font-size:12px; min-height:18px}
    .sep{display:flex; align-items:center; gap:12px; color:#9aa3ae; margin:12px 0}
    .sep:before,.sep:after{content:""; flex:1; height:1px; background:#1f2937}

    /* Toast */
    .toast{position:fixed; bottom:18px; left:50%; transform:translateX(-50%); background:#0b0c10; border:1px solid #1f1f1f; padding:10px 14px; border-radius:12px; display:none; z-index:70}
    .toast.show{display:block}
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="header">
    <div class="header-inner">
      <div class="title">SGS EXAM CRACKER</div>
      <div class="avatar" id="avatarWrap" style="display:none">
        <span id="userEmail" style="font-size:12px;color:#cbd5e1;display:none"></span>
        <img id="userPhoto" alt="user" style="display:none"/>
        <div class="fallback" id="userFallback" style="display:none">U</div>
        <button class="logout" id="logoutBtn" title="Logout">Logout</button>
      </div>
    </div>
  </header>

  <!-- GREET LINE (left-aligned under header) -->
  <div class="greet-wrap">
    <div class="greet">Hello, <strong id="helloName">User</strong> üëã</div>
  </div>

  <!-- SHAYARI (üî• study motivation) -->
  <section class="shayari" aria-label="Study Motivation">
    <h2>üî• Study ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§ó ‚Äî ‡§Ü‡§ú ‡§®‡§π‡•Ä‡§Ç ‡§§‡•ã ‡§ï‡§≠‡•Ä ‡§®‡§π‡•Ä‡§Ç</h2>
    <p>‡§ï‡§ø‡§§‡§æ‡§¨‡•ã‡§Ç ‡§ï‡•Ä ‡§∞‡§æ‡§ñ ‡§®‡§π‡•Ä‡§Ç ‡§â‡§°‡§º‡§æ‡§®‡•Ä, <br> ‡§™‡§®‡•ç‡§®‡•á ‡§™‡§≤‡§ü ‡§ï‡§∞ ‡§ï‡§ø‡§∏‡•ç‡§Æ‡§§ ‡§™‡§≤‡§ü‡§®‡•Ä ‡§π‡•à‡•§</p>
    <p>‡§ò‡§°‡§º‡•Ä ‡§ï‡•Ä ‡§ü‡§ø‡§ï-‡§ü‡§ø‡§ï ‡§Ø‡§æ‡§¶ ‡§¶‡§ø‡§≤‡§æ‡§è‚Äî<br> ‡§Ü‡§ú ‡§ï‡§æ ‡§Ü‡§≤‡§∏, ‡§ï‡§≤ ‡§ï‡•Ä ‡§®‡§ø‡§Ø‡•Å‡§ï‡•ç‡§§‡§ø ‡§ñ‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ‡•§</p>
    <p>‡§ú‡•ã ‡§∞‡§æ‡§§‡•ã‡§Ç ‡§ï‡•ã ‡§ú‡§≤‡§§‡•á ‡§π‡•à‡§Ç ‡§µ‡§π‡•Ä ‡§∏‡•Å‡§¨‡§π ‡§Ö‡•ô‡§¨‡§æ‡§∞‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§õ‡§™‡§§‡•á ‡§π‡•à‡§Ç‡•§</p>
    <small>‚Äî Focus ‚Ä¢ Discipline ‚Ä¢ Repeat</small>
  </section>

  <!-- GRID: 3 per row, square tiles -->
  <main class="grid" id="btnGrid">
    <a class="tile" href="https://drive.google.com/drive/folders/1kuiMOHnkRewT9nN4RBaJyrGIjJJBDLtk" target="_blank" rel="noopener" aria-label="SSC GD">
      <div class="emoji">üõ°Ô∏è</div>
      <div class="name">SSC GD</div>
      <div class="hint">Important PDFs</div>
    </a>
    <a class="tile" href="https://drive.google.com/drive/folders/1CqVZz4A2JqrqMYambXq7QfkYPborLiIP" target="_blank" rel="noopener" aria-label="SSC MTS">
      <div class="emoji">üß∞</div>
      <div class="name">SSC MTS</div>
      <div class="hint">All Sections</div>
    </a>
    <a class="tile" href="https://drive.google.com/drive/folders/1mXVIzRNVTBIoLjDCAT-7Jome1AZ7n6SY" target="_blank" rel="noopener" aria-label="LUCENT">
      <div class="emoji">üìò</div>
      <div class="name">LUCENT</div>
      <div class="hint">General Knowledge</div>
    </a>
    <a class="tile" href="https://drive.google.com/drive/folders/1aVAB7eZK3wEEyCDc_l4EkDfQ3BgNq4JI" target="_blank" rel="noopener" aria-label="ALL PDF">
      <div class="emoji">üìö</div>
      <div class="name">ALL PDF</div>
      <div class="hint">One Place Library</div>
    </a>
    <a class="tile" href="https://drive.google.com/drive/folders/1eAjiWefAZdNdE-bK1nwvUlP92_7WIGat" target="_blank" rel="noopener" aria-label="Notice Board">
      <div class="emoji">üì¢</div>
      <div class="name">Notice Board</div>
      <div class="hint">Updates & Info</div>
    </a>
    <a class="tile" href="https://drive.google.com/drive/folders/1eF9tbYetogTi6QekaVLVKcw-1VbSSnV4" target="_blank" rel="noopener" aria-label="New Vacancy">
      <div class="emoji">üÜï</div>
      <div class="name">New Vacancy</div>
      <div class="hint">Latest Jobs</div>
    </a>
  </main>

  <!-- AUTH GATE (first time login) -->
  <div class="gate" id="authGate" aria-modal="true" role="dialog">
    <div class="card">
      <h3>Login / Signup to continue</h3>
      <div class="tabs">
        <button class="tab active" id="tabSignIn">Sign In</button>
        <button class="tab" id="tabSignUp">Sign Up</button>
      </div>

      <!-- Sign In -->
      <div id="signinForm">
        <div class="field">
          <label>Email</label>
          <input type="email" id="inEmail" placeholder="you@example.com" autocomplete="username"/>
        </div>
        <div class="field">
          <label>Password</label>
          <input type="password" id="inPass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password"/>
        </div>
        <button class="btn" id="btnSignInEmail">Sign In with Email</button>
        <div class="sep">or</div>
        <button class="btn-google" id="btnGoogle">
          <span>üü¶</span> Continue with Google
        </button>
        <div class="error" id="inErr"></div>
      </div>

      <!-- Sign Up -->
      <div id="signupForm" style="display:none">
        <div class="field">
          <label>Full Name</label>
          <input type="text" id="upName" placeholder="Your Name" autocomplete="name"/>
        </div>
        <div class="field">
          <label>Email</label>
          <input type="email" id="upEmail" placeholder="you@example.com" autocomplete="email"/>
        </div>
        <div class="field">
          <label>Password</label>
          <input type="password" id="upPass" placeholder="Create a strong password" autocomplete="new-password"/>
        </div>
        <button class="btn" id="btnSignUpEmail">Create Account</button>
        <div class="sep">or</div>
        <button class="btn-google" id="btnGoogle2">
          <span>üü¶</span> Continue with Google
        </button>
        <div class="error" id="upErr"></div>
      </div>

      <div class="success" id="authMsg"></div>
    </div>
  </div>

  <div class="toast" id="toast">Logged out successfully.</div>

  <!-- Firebase SDKs -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import {
      getAuth, setPersistence, browserLocalPersistence, onAuthStateChanged,
      GoogleAuthProvider, signInWithPopup, signInWithEmailAndPassword,
      createUserWithEmailAndPassword, updateProfile, signOut
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    // ---- Your Firebase Config (Given) ----
    const firebaseConfig = {
      apiKey: "AIzaSyC1py6IHfC6Chf99xvv8T5K3ISAO_cpmk4",
      authDomain: "sgs-exam-cracker-420.firebaseapp.com",
      projectId: "sgs-exam-cracker-420",
      storageBucket: "sgs-exam-cracker-420.firebasestorage.app",
      messagingSenderId: "209121129127",
      appId: "1:209121129127:web:69587a45aa492c2e24a182"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    setPersistence(auth, browserLocalPersistence);

    // UI Refs
    const gate = document.getElementById('authGate');
    const avatarWrap = document.getElementById('avatarWrap');
    const userPhoto = document.getElementById('userPhoto');
    const userFallback = document.getElementById('userFallback');
    const helloName = document.getElementById('helloName');
    const userEmail = document.getElementById('userEmail');
    const logoutBtn = document.getElementById('logoutBtn');
    const toastEl = document.getElementById('toast');

    // Tabs & Forms
    const tabSignIn = document.getElementById('tabSignIn');
    const tabSignUp = document.getElementById('tabSignUp');
    const signinForm = document.getElementById('signinForm');
    const signupForm = document.getElementById('signupForm');

    const inEmail = document.getElementById('inEmail');
    const inPass  = document.getElementById('inPass');
    const btnSignInEmail = document.getElementById('btnSignInEmail');
    const inErr = document.getElementById('inErr');

    const upName = document.getElementById('upName');
    const upEmail = document.getElementById('upEmail');
    const upPass = document.getElementById('upPass');
    const btnSignUpEmail = document.getElementById('btnSignUpEmail');
    const upErr = document.getElementById('upErr');

    const btnGoogle = document.getElementById('btnGoogle');
    const btnGoogle2 = document.getElementById('btnGoogle2');
    const authMsg = document.getElementById('authMsg');

    // Helpers
    const showGate = () => gate.classList.add('show');
    const hideGate = () => gate.classList.remove('show');
    const showToast = (msg="Done") => {
      toastEl.textContent = msg;
      toastEl.classList.add('show');
      setTimeout(()=>toastEl.classList.remove('show'), 1800);
    };
    const initialFromName = (name="User") => (name.trim()[0] || "U").toUpperCase();
    const nameFromEmail = (email="") => email.split("@")[0];

    // Switch Tabs
    tabSignIn.addEventListener('click', ()=>{
      tabSignIn.classList.add('active'); tabSignUp.classList.remove('active');
      signinForm.style.display='block'; signupForm.style.display='none';
      inErr.textContent=""; upErr.textContent=""; authMsg.textContent="";
    });
    tabSignUp.addEventListener('click', ()=>{
      tabSignUp.classList.add('active'); tabSignIn.classList.remove('active');
      signupForm.style.display='block'; signinForm.style.display='none';
      inErr.textContent=""; upErr.textContent=""; authMsg.textContent="";
    });

    // Auth state
    onAuthStateChanged(auth, (user)=>{
      if(user){
        hideGate();
        avatarWrap.style.display = 'flex';

        const displayName =
          user.displayName ||
          localStorage.getItem('sgs_full_name') ||
          nameFromEmail(user.email || "");

        helloName.textContent = displayName;

        if(user.email){ userEmail.textContent = user.email; userEmail.style.display = 'none'; }

        if(user.photoURL){
          userPhoto.src = user.photoURL;
          userPhoto.style.display='block';
          userFallback.style.display='none';
        }else{
          userFallback.textContent = initialFromName(displayName || "U");
          userFallback.style.display='grid';
          userPhoto.style.display='none';
        }
      }else{
        showGate();
        avatarWrap.style.display = 'none';
        helloName.textContent = 'User';
      }
    });

    // Email Sign In
    btnSignInEmail.addEventListener('click', async ()=>{
      inErr.textContent = ""; authMsg.textContent="";
      try{
        await signInWithEmailAndPassword(auth, inEmail.value.trim(), inPass.value.trim());
        authMsg.textContent = "Welcome back!";
      }catch(e){
        inErr.textContent = e.message.replace("Firebase:", "").trim();
      }
    });

    // Email Sign Up
    btnSignUpEmail.addEventListener('click', async ()=>{
      upErr.textContent = ""; authMsg.textContent="";
      const name = upName.value.trim();
      if(!name){ upErr.textContent = "Please enter your full name."; return; }
      try{
        const cred = await createUserWithEmailAndPassword(auth, upEmail.value.trim(), upPass.value.trim());
        await updateProfile(cred.user, { displayName: name });
        localStorage.setItem('sgs_full_name', name);
        authMsg.textContent = "Account created. You‚Äôre in!";
      }catch(e){
        upErr.textContent = e.message.replace("Firebase:", "").trim();
      }
    });

    // Google Sign In
    const doGoogle = async ()=>{
      try{
        const provider = new GoogleAuthProvider();
        await signInWithPopup(auth, provider);
        authMsg.textContent = "Signed in with Google.";
      }catch(e){
        // Silent for popup closed
      }
    };
    btnGoogle.addEventListener('click', doGoogle);
    btnGoogle2.addEventListener('click', doGoogle);

    // Logout
    logoutBtn.addEventListener('click', async ()=>{
      await signOut(auth);
      showToast("Logged out.");
      showGate();
    });

    // Block background scroll when gate open (nice UX)
    const observer = new MutationObserver(()=>{
      if(gate.classList.contains('show')){ document.body.style.overflow='hidden'; }
      else{ document.body.style.overflow='auto'; }
    });
    observer.observe(gate, { attributes:true, attributeFilter:['class'] });
  </script>
</body>
</html>
